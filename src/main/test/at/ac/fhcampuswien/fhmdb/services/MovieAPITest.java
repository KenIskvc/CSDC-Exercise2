package at.ac.fhcampuswien.fhmdb.services;

import at.ac.fhcampuswien.fhmdb.models.Movie;
import com.fasterxml.jackson.databind.ObjectMapper;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;

import java.io.IOException;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertTrue;

public class MovieAPITest {

    private static MovieAPI movieAPI;
    private static ObjectMapper mapper;

    @BeforeAll
    public static void init() {
        movieAPI = new MovieAPI();
        mapper = new ObjectMapper();
    }
    @Test
    void get_all_movies_without_params_test() throws IOException {
        String result = movieAPI.GetAllMovies();
        assertEquals("[{\"id\":\"81d317b0-29e5-4846-97a6-43c07f3edf4a\",\"title\":\"The Godfather\",\"genres\":[\"DRAMA\"],\"releaseYear\":1972,\"description\":\"The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg\",\"lengthInMinutes\":175,\"directors\":[\"Francis Ford Coppola\"],\"writers\":[\"Mario Puzo\",\"Francis Ford Coppola\"],\"mainCast\":[\"Marlon Brando\",\"Al Pacino\",\"James Caan\"],\"rating\":9.2},{\"id\":\"dc099995-3b61-44ce-b817-b029b33a1ce1\",\"title\":\"The Shawshank Redemption\",\"genres\":[\"DRAMA\"],\"releaseYear\":1994,\"description\":\"Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNDE3ODcxYzMtY2YzZC00NmNlLWJiNDMtZDViZWM2MzIxZDYwXkEyXkFqcGdeQXVyNjAwNDUxODI@._V1_.jpg\",\"lengthInMinutes\":142,\"directors\":[\"Frank Darabont\"],\"writers\":[\"Stephen King\",\"Frank Darabont\"],\"mainCast\":[\"Tim Robbins\",\"Morgan Freeman\",\"Bob Gunton\"],\"rating\":9.3},{\"id\":\"70638b3c-8a1e-414a-9a53-05ebf64078a2\",\"title\":\"The Dark Knight\",\"genres\":[\"ACTION\",\"CRIME\",\"DRAMA\"],\"releaseYear\":2008,\"description\":\"When the menace known as the Joker wreaks havoc and chaos on the people of Gotham, the caped crusader must come to terms with one of the greatest psychological tests of his ability to fight injustice.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMTk4ODQzNDY3Ml5BMl5BanBnXkFtZTcwODA0NTM4Nw@@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":152,\"directors\":[\"Christopher Nolan\"],\"writers\":[\"Jonathan Nolan\",\"Christopher Nolan\"],\"mainCast\":[\"Christian Bale\",\"Heath Ledger\",\"Aaron Eckhart\"],\"rating\":9.0},{\"id\":\"521ba69d-f716-4a3d-a048-39cb05a685b1\",\"title\":\"Schindler's List\",\"genres\":[\"BIOGRAPHY\",\"DRAMA\",\"HISTORY\"],\"releaseYear\":1993,\"description\":\"In German-occupied Poland during World War II, Oskar Schindler gradually becomes concerned for his Jewish workforce after witnessing their persecution by the Nazi Germans.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNDE4OTMxMTctNmRhYy00NWE2LTg3YzItYTk3M2UwOTU5Njg4XkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_.jpg\",\"lengthInMinutes\":195,\"directors\":[\"Steven Spielberg\"],\"writers\":[\"Steven Zaillian\",\"Thomas Keneally\"],\"mainCast\":[\"Liam Neeson\",\"Ralph Fiennes\",\"Ben Kingsley\"],\"rating\":8.9},{\"id\":\"7760c868-c4ce-46b9-87ec-8cf2bcf3d0fe\",\"title\":\"Pulp Fiction\",\"genres\":[\"CRIME\",\"DRAMA\"],\"releaseYear\":1994,\"description\":\"The lives of two mob hit men, a boxer, a gangster's wife, and a pair of diner bandits intertwine in four tales of violence and redemption.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg\",\"lengthInMinutes\":154,\"directors\":[\"Quentin Tarantino\"],\"writers\":[\"Quentin Tarantino\",\"Roger Avary\"],\"mainCast\":[\"John Travolta\",\"Uma Thurman\",\"Samuel L. Jackson\"],\"rating\":8.9},{\"id\":\"57803b54-5ab7-4c66-a994-0884bcd92b04\",\"title\":\"The Lord of the Rings: The Return of the King\",\"genres\":[\"ADVENTURE\",\"DRAMA\",\"FANTASY\"],\"releaseYear\":2003,\"description\":\"Gandalf and Aragorn lead the World of Men against Sauron's army to draw his gaze from Frodo and Sam as they approach Mount Doom with the One Ring.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNzA5ZDNlZWMtM2NhNS00NDJjLTk4NDItYTRmY2EwMWZlMTY3XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":201,\"directors\":[\"Peter Jackson\"],\"writers\":[\"J.R.R. Tolkien\",\"Fran Walsh\",\"Philippa Boyens\"],\"mainCast\":[\"Elijah Wood\",\"Ian McKellen\",\"Viggo Mortensen\"],\"rating\":8.9},{\"id\":\"a45e4b03-ece7-49e7-8144-4f2a6fe03432\",\"title\":\"Star Wars: Episode V - The Empire Strikes Back\",\"genres\":[\"ACTION\",\"ADVENTURE\",\"FANTASY\",\"SCIENCE_FICTION\"],\"releaseYear\":1980,\"description\":\"After the rebels are brutally overpowered by the Empire on the ice planet Hoth, Luke Skywalker begins Jedi training with Yoda, while his friends are pursued by Darth Vader and a bounty hunter named Boba Fett all over the galaxy.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BYmU1NDRjNDgtMzhiMi00NjZmLTg5NGItZDNiZjU5NTU4OTE0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg\",\"lengthInMinutes\":124,\"directors\":[\"Irvin Kershner\"],\"writers\":[\"Leigh Brackett\",\"Lawrence Kasdan\",\"George Lucas\"],\"mainCast\":[\"Mark Hamill\",\"Harrison Ford\",\"Carrie Fisher\"],\"rating\":8.7},{\"id\":\"8d47a927-7e9c-4b67-ba51-790a55f6985b\",\"title\":\"The Good, the Bad and the Ugly\",\"genres\":[\"WESTERN\"],\"releaseYear\":1966,\"description\":\"A bounty hunting scam joins two men in an uneasy alliance against a third in a race to find a fortune in gold buried in a remote cemetery.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNjJlYmNkZGItM2NhYy00MjlmLTk5NmQtNjg1NmM2ODU4OTMwXkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":161,\"directors\":[\"Sergio Leone\"],\"writers\":[\"Luciano Vincenzoni\",\"Agenore Incrocci\",\"Furio Scarpelli\",\"Sergio Leone\"],\"mainCast\":[\"Clint Eastwood\",\"Eli Wallach\",\"Lee Van Cleef\"],\"rating\":8.9},{\"id\":\"2feb8100-3f96-494c-9ded-eb405f43dbfb\",\"title\":\"12 Angry Men\",\"genres\":[\"DRAMA\"],\"releaseYear\":1957,\"description\":\"A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMWU4N2FjNzYtNTVkNC00NzQ0LTg0MjAtYTJlMjFhNGUxZDFmXkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":96,\"directors\":[\"Sidney Lumet\"],\"writers\":[\"Reginald Rose\"],\"mainCast\":[\"Henry Fonda\",\"Lee J. Cobb\",\"Martin Balsam\"],\"rating\":8.9},{\"id\":\"fff085ba-1b76-4623-9c77-396017ed1e57\",\"title\":\"The Lord of the Rings: The Two Towers\",\"genres\":[\"ADVENTURE\",\"DRAMA\",\"FANTASY\"],\"releaseYear\":2002,\"description\":\"While Frodo and Sam edge closer to Mordor with the help of the shifty Gollum, the divided fellowship makes a stand against Sauron\\\"s new ally, Saruman, and his hordes of Isengard.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BZTUxNzg3MDUtYjdmZi00ZDY1LTkyYTgtODlmOGY5N2RjYWUyXkEyXkFqcGdeQXVyMTA0MTM5NjI2._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":179,\"directors\":[\"Peter Jackson\"],\"writers\":[\"J.R.R. Tolkien\",\"Fran Walsh\",\"Philippa Boyens\"],\"mainCast\":[\"Elijah Wood\",\"Ian McKellen\",\"Viggo Mortensen\"],\"rating\":8.7},{\"id\":\"751f6871-f68b-461c-828d-12b1df47af10\",\"title\":\"One Flew Over the Cuckoo\\\"s Nest\",\"genres\":[\"DRAMA\"],\"releaseYear\":1975,\"description\":\"A criminal pleads insanity after getting into trouble again and once in the mental institution rebels against the oppressive nurse and rallies up the scared patients.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BZjA0OWVhOTAtYWQxNi00YzNhLWI4ZjYtNjFjZTEyYjJlNDVlL2ltYWdlL2ltYWdlXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_.jpg\",\"lengthInMinutes\":133,\"directors\":[\"Milos Forman\"],\"writers\":[\"Lawrence Hauben\",\"Bo Goldman\"],\"mainCast\":[\"Jack Nicholson\",\"Louise Fletcher\",\"William Redfield\"],\"rating\":8.7},{\"id\":\"86642997-ee66-4102-ade1-54941a1d3a6e\",\"title\":\"Inception\",\"genres\":[\"ACTION\",\"ADVENTURE\",\"SCIENCE_FICTION\",\"THRILLER\"],\"releaseYear\":2010,\"description\":\"A thief, who steals corporate secrets through use of dream-sharing technology, is given the inverse task of planting an idea into the mind of a CEO.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMjAxMzY3NjcxNF5BMl5BanBnXkFtZTcwNTI5OTM0Mw@@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":148,\"directors\":[\"Christopher Nolan\"],\"writers\":[\"Christopher Nolan\"],\"mainCast\":[\"Leonardo DiCaprio\",\"Joseph Gordon-Levitt\",\"Elliot Page\"],\"rating\":8.8},{\"id\":\"45acd8b1-e4ed-47eb-b594-42695faebccf\",\"title\":\"Goodfellas\",\"genres\":[\"BIOGRAPHY\",\"CRIME\",\"DRAMA\"],\"releaseYear\":1990,\"description\":\"The story of Henry Hill and his life in the mob, covering his relationship with his wife Karen Hill and his mob partners Jimmy Conway and Tommy DeVito in the Italian-American crime syndicate.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BY2NkZjEzMDgtN2RjYy00YzM1LWI4ZmQtMjIwYjFjNmI3ZGEwXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":146,\"directors\":[\"Martin Scorsese\"],\"writers\":[\"Nicholas Pileggi\",\"Nicholas Pileggi\"],\"mainCast\":[\"Robert De Niro\",\"Ray Liotta\",\"Joe Pesci\"],\"rating\":8.7},{\"id\":\"e2d9913d-3869-454c-9fbf-a63aaf57bedf\",\"title\":\"The Matrix\",\"genres\":[\"ACTION\",\"SCIENCE_FICTION\"],\"releaseYear\":1999,\"description\":\"A computer hacker learns from mysterious rebels about the true nature of his reality and his role in the war against its controllers.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNzQzOTk3OTAtNDQ0Zi00ZTVkLWI0MTEtMDllZjNkYzNjNTc4L2ltYWdlXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":136,\"directors\":[\"Lana Wachowski\",\"Lilly Wachowski\"],\"writers\":[\"Lana Wachowski\",\"Lilly Wachowski\"],\"mainCast\":[\"Keanu Reeves\",\"Laurence Fishburne\",\"Carrie-Anne Moss\"],\"rating\":8.7},{\"id\":\"8d948831-a076-4ac0-b939-1cf547a6cf58\",\"title\":\"Seven\",\"genres\":[\"CRIME\",\"DRAMA\",\"MYSTERY\",\"THRILLER\"],\"releaseYear\":1995,\"description\":\"Two detectives, a rookie and a veteran, hunt a serial killer who uses the seven deadly sins as his modus operandi.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BOTUwODM5MTctZjczMi00OTk4LTg3NWUtNmVhMTAzNTNjYjcyXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":127,\"directors\":[\"David Fincher\"],\"writers\":[\"Andrew Kevin Walker\"],\"mainCast\":[\"Morgan Freeman\",\"Brad Pitt\",\"Kevin Spacey\"],\"rating\":8.6},{\"id\":\"1376dad0-10d4-499c-843a-cb05908b7b35\",\"title\":\"The Silence of the Lambs\",\"genres\":[\"CRIME\",\"DRAMA\",\"THRILLER\"],\"releaseYear\":1991,\"description\":\"A young FBI cadet must receive the help of an incarcerated and manipulative cannibal killer to help catch another serial killer, a madman who skins his victims.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNjNhZTk0ZmEtNjJhMi00YzFlLWE1MmEtYzM1M2ZmMGMwMTU4XkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":118,\"directors\":[\"Jonathan Demme\"],\"writers\":[\"Thomas Harris\",\"Ted Tally\"],\"mainCast\":[\"Jodie Foster\",\"Anthony Hopkins\",\"Scott Glenn\"],\"rating\":8.6},{\"id\":\"5627343a-0bed-4a72-897a-365d2234f571\",\"title\":\"It\\\"s a Wonderful Life\",\"genres\":[\"DRAMA\",\"FAMILY\",\"FANTASY\"],\"releaseYear\":1946,\"description\":\"An angel is sent from Heaven to help a desperately frustrated businessman by showing him what life would have been like if he had never existed.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BZjc4NDZhZWMtNGEzYS00ZWU2LThlM2ItNTA0YzQ0OTExMTE2XkEyXkFqcGdeQXVyNjUwMzI2NzU@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":130,\"directors\":[\"Frank Capra\"],\"writers\":[\"Frances Goodrich\",\"Albert Hackett\",\"Frank Capra\"],\"mainCast\":[\"James Stewart\",\"Donna Reed\",\"Lionel Barrymore\"],\"rating\":8.6},{\"id\":\"9996624f-9627-430a-b763-ed0e6c1a8e1b\",\"title\":\"Saving Private Ryan\",\"genres\":[\"ACTION\",\"DRAMA\",\"WAR\"],\"releaseYear\":1998,\"description\":\"Following the Normandy Landings, a group of U.S. soldiers go behind enemy lines to retrieve a paratrooper whose brothers have been killed in action.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BZjhkMDM4MWItZTVjOC00ZDRhLThmYTAtM2I5NzBmNmNlMzI1XkEyXkFqcGdeQXVyNDYyMDk5MTU@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":169,\"directors\":[\"Steven Spielberg\"],\"writers\":[\"Robert Rodat\"],\"mainCast\":[\"Tom Hanks\",\"Matt Damon\",\"Tom Sizemore\"],\"rating\":8.6},{\"id\":\"d42ed31e-98a9-4c56-b104-5ae68b9dc970\",\"title\":\"City of God\",\"genres\":[\"CRIME\",\"DRAMA\"],\"releaseYear\":2002,\"description\":\"Two boys growing up in a violent neighborhood of Rio de Janeiro take different paths: one becomes a photographer, the other a drug dealer.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMGU5OWEwZDItNmNkMC00NzZmLTk1YTctNzVhZTJjM2NlZTVmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":130,\"directors\":[\"Fernando Meirelles\",\"Kátia Lund\"],\"writers\":[\"Paulo Lins\",\"Bráulio Mantovani\"],\"mainCast\":[\"Alexandre Rodrigues\",\"Matheus Nachtergaele\",\"Leandro Firmino\"],\"rating\":8.6},{\"id\":\"dfc0a8ce-7263-4c6c-9cf3-426df01e823c\",\"title\":\"Life Is Beautiful\",\"genres\":[\"COMEDY\",\"DRAMA\",\"ROMANCE\",\"WAR\"],\"releaseYear\":1997,\"description\":\"When an open-minded Jewish librarian and his son become victims of the Holocaust, he uses a perfect mixture of will, humor, and imagination to protect his son from the dangers around their camp.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BYmJmM2Q4NmMtYThmNC00ZjRlLWEyZmItZTIwOTBlZDQ3NTQ1XkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":116,\"directors\":[\"Roberto Benigni\"],\"writers\":[\"Vincenzo Cerami\",\"Roberto Benigni\"],\"mainCast\":[\"Roberto Benigni\",\"Nicoletta Braschi\",\"Giorgio Cantarini\"],\"rating\":8.6},{\"id\":\"4e66285f-5949-416e-afa8-716e0c3ef46c\",\"title\":\"The Usual Suspects\",\"genres\":[\"CRIME\",\"MYSTERY\",\"THRILLER\"],\"releaseYear\":1995,\"description\":\"A sole survivor tells of the twisty events leading up to a horrific gun battle on a boat, which begin when five criminals meet at a seemingly random police lineup.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BYTViNjMyNmUtNDFkNC00ZDRlLThmMDUtZDU2YWE4NGI2ZjVmXkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":106,\"directors\":[\"Bryan Singer\"],\"writers\":[\"Christopher McQuarrie\"],\"mainCast\":[\"Kevin Spacey\",\"Gabriel Byrne\",\"Chazz Palminteri\"],\"rating\":8.6},{\"id\":\"a1857686-0eac-474f-befb-fc7cade26a2f\",\"title\":\"Puss in Boots\",\"genres\":[\"ANIMATION\",\"ADVENTURE\",\"COMEDY\"],\"releaseYear\":2011,\"description\":\"An outlaw cat, his childhood egg-friend, and a seductive thief kitty set out in search for the eggs of the fabled Golden Goose to clear his name, restore his lost honor, and regain the trust of his mother and town.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNjMyMDBjMGUtNDUzZi00N2MwLTg1MjItZTk2MDE1OTZmNTYxXkEyXkFqcGdeQXVyMTQ5NjA0NDM0._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":90,\"directors\":[\"Chris Miller\"],\"writers\":[\"Tom Wheeler\",\"Brian Lynch\"],\"mainCast\":[\"Antonio Banderas\",\"Salma Hayek\",\"Zach Galifianakis\"],\"rating\":6.6},{\"id\":\"2fd4eac6-aba8-4c74-b141-e524cb5ca0a5\",\"title\":\"Forrest Gump\",\"genres\":[\"DRAMA\",\"ROMANCE\"],\"releaseYear\":1994,\"description\":\"The presidencies of Kennedy and Johnson, the Vietnam War, the Watergate scandal and other historical events unfold from the perspective of an Alabama man with an IQ of 75, whose only desire is to be reunited with his childhood sweetheart.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BNWIwODRlZTUtY2U3ZS00Yzg1LWJhNzYtMmZiYmEyNmU1NjMzXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":144,\"directors\":[\"Robert Zemeckis\"],\"writers\":[\"Eric Roth\",\"Winston Groom\"],\"mainCast\":[\"Tom Hanks\",\"Robin Wright\",\"Gary Sinise\"],\"rating\":8.8},{\"id\":\"6d7a6581-665e-4f55-b323-094358849312\",\"title\":\"The Lion King\",\"genres\":[\"ANIMATION\",\"ADVENTURE\",\"DRAMA\",\"FAMILY\",\"MUSICAL\"],\"releaseYear\":1994,\"description\":\"Lion cub and future king Simba searches for his identity. His eagerness to please others and penchant for testing his boundaries sometimes gets him into trouble.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMjIwMjE1Nzc4NV5BMl5BanBnXkFtZTgwNDg4OTA1NzM@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":88,\"directors\":[\"Roger Allers\",\"Rob Minkoff\"],\"writers\":[\"Irene Mecchi\",\"Jonathan Roberts\",\"Linda Woolverton\"],\"mainCast\":[\"Matthew Broderick\",\"Jeremy Irons\",\"James Earl Jones\"],\"rating\":8.5},{\"id\":\"3588776d-a182-4de8-9e05-5157b40191df\",\"title\":\"Spirited Away\",\"genres\":[\"ANIMATION\",\"ADVENTURE\",\"FAMILY\",\"FANTASY\",\"MYSTERY\"],\"releaseYear\":2001,\"description\":\"During her family's move to the suburbs, a sullen 10-year-old girl wanders into a world ruled by gods, witches, and spirits, and where humans are changed into beasts.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMjlmZmI5MDctNDE2YS00YWE0LWE5ZWItZDBhYWQ0NTcxNWRhXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":125,\"directors\":[\"Hayao Miyazaki\"],\"writers\":[\"Hayao Miyazaki\"],\"mainCast\":[\"Daveigh Chase\",\"Suzanne Pleshette\",\"Miyu Irino\"],\"rating\":8.6},{\"id\":\"ccf4989e-e85b-4119-a113-7ca5298a1b17\",\"title\":\"Toy Story\",\"genres\":[\"ANIMATION\",\"ADVENTURE\",\"COMEDY\",\"FAMILY\",\"FANTASY\"],\"releaseYear\":1995,\"description\":\"A cowboy doll is profoundly threatened and jealous when a new spaceman action figure supplants him as top toy in a boy's bedroom.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMDU2ZWJlMjktMTRhMy00ZTA5LWEzNDgtYmNmZTEwZTViZWJkXkEyXkFqcGdeQXVyNDQ2OTk4MzI@._V1_.jpg\",\"lengthInMinutes\":81,\"directors\":[\"John Lasseter\"],\"writers\":[\"John Lasseter\",\"Pete Docter\",\"Andrew Stanton\"],\"mainCast\":[\"Tom Hanks\",\"Tim Allen\",\"Don Rickles\"],\"rating\":8.3},{\"id\":\"c6bfb760-9f95-4966-9f9e-c89a06702bac\",\"title\":\"Avatar\",\"genres\":[\"ACTION\",\"ADVENTURE\",\"FANTASY\",\"SCIENCE_FICTION\"],\"releaseYear\":2009,\"description\":\"A paraplegic Marine dispatched to the moon Pandora on a unique mission becomes torn between following his orders and protecting the world he feels is his home.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BZDA0OGQxNTItMDZkMC00N2UyLTg3MzMtYTJmNjg3Nzk5MzRiXkEyXkFqcGdeQXVyMjUzOTY1NTc@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":162,\"directors\":[\"James Cameron\"],\"writers\":[\"James Cameron\"],\"mainCast\":[\"Sam Worthington\",\"Zoe Saldana\",\"Sigourney Weaver\"],\"rating\":7.8},{\"id\":\"fc472f5b-1ac7-4307-bbdf-f9c46cb02d5e\",\"title\":\"Knives Out\",\"genres\":[\"COMEDY\",\"CRIME\",\"DRAMA\",\"MYSTERY\",\"THRILLER\"],\"releaseYear\":2019,\"description\":\"A detective investigates the death of a patriarch of an eccentric, combative family.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMGUwZjliMTAtNzAxZi00MWNiLWE2NzgtZGUxMGQxZjhhNDRiXkEyXkFqcGdeQXVyNjU1NzU3MzE@._V1_.jpg\",\"lengthInMinutes\":130,\"directors\":[\"Rian Johnson\"],\"writers\":[\"Rian Johnson\"],\"mainCast\":[\"Daniel Craig\",\"Chris Evans\",\"Ana de Armas\"],\"rating\":7.9},{\"id\":\"c2aaf369-4884-4dea-bed5-a912d70045ee\",\"title\":\"Once Upon a Time in Hollywood\",\"genres\":[\"COMEDY\",\"DRAMA\"],\"releaseYear\":2019,\"description\":\"A faded television actor and his stunt double strive to achieve fame and success in the film industry during the final years of Hollywood's Golden Age in 1969 Los Angeles.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BOTg4ZTNkZmUtMzNlZi00YmFjLTk1MmUtNWQwNTM0YjcyNTNkXkEyXkFqcGdeQXVyNjg2NjQwMDQ@._V1_UY1200_CR90,0,630,1200_AL_.jpg\",\"lengthInMinutes\":161,\"directors\":[\"Quentin Tarantino\"],\"writers\":[\"Quentin Tarantino\"],\"mainCast\":[\"Leonardo DiCaprio\",\"Brad Pitt\",\"Margot Robbie\"],\"rating\":7.7},{\"id\":\"da92ef19-3b24-4406-bee4-ddb09d35c389\",\"title\":\"Django Unchained\",\"genres\":[\"DRAMA\",\"WESTERN\"],\"releaseYear\":2012,\"description\":\"With the help of a German bounty hunter, a freed slave sets out to rescue his wife from a brutal Mississippi plantation owner.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMjIyNTQ5NjQ1OV5BMl5BanBnXkFtZTcwODg1MDU4OA@@._V1_UY1200_CR90,0,630,1200_AL_.jpg\",\"lengthInMinutes\":165,\"directors\":[\"Quentin Tarantino\"],\"writers\":[\"Quentin Tarantino\"],\"mainCast\":[\"Jamie Foxx\",\"Christoph Waltz\",\"Leonardo DiCaprio\"],\"rating\":8.4},{\"id\":\"d95d6912-b281-4e08-86b8-f9101f5f2c15\",\"title\":\"The Wolf of Wall Street\",\"genres\":[\"BIOGRAPHY\",\"COMEDY\",\"CRIME\",\"DRAMA\"],\"releaseYear\":2013,\"description\":\"Based on the true story of Jordan Belfort, from his rise to a wealthy stock-broker living the high life to his fall involving crime, corruption and the federal government.\",\"imgUrl\":\"https://m.media-amazon.com/images/M/MV5BMjIxMjgxNTk0MF5BMl5BanBnXkFtZTgwNjIyOTg2MDE@._V1_FMjpg_UX1000_.jpg\",\"lengthInMinutes\":180,\"directors\":[\"Martin Scorsese\"],\"writers\":[\"Terence Winter\"],\"mainCast\":[\"Leonardo DiCaprio\",\"Jonah Hill\",\"Margot Robbie\"],\"rating\":8.2}]", result);
    }

    @Test
    void get_movie_from_criteria() throws IOException {
        String result = movieAPI.GetFilteredMovies("The Godfather", null, 0, 0);

        Object json = mapper.readValue("[\n" +
                "  {\n" +
                "    \"id\": \"81d317b0-29e5-4846-97a6-43c07f3edf4a\",\n" +
                "    \"title\": \"The Godfather\",\n" +
                "    \"genres\": [\n" +
                "      \"DRAMA\"\n" +
                "    ],\n" +
                "    \"releaseYear\": 1972,\n" +
                "    \"description\": \"The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.\",\n" +
                "    \"imgUrl\": \"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_.jpg\",\n" +
                "    \"lengthInMinutes\": 175,\n" +
                "    \"directors\": [\n" +
                "      \"Francis Ford Coppola\"\n" +
                "    ],\n" +
                "    \"writers\": [\n" +
                "      \"Mario Puzo\",\n" +
                "      \"Francis Ford Coppola\"\n" +
                "    ],\n" +
                "    \"mainCast\": [\n" +
                "      \"Marlon Brando\",\n" +
                "      \"Al Pacino\",\n" +
                "      \"James Caan\"\n" +
                "    ],\n" +
                "    \"rating\": 9.2\n" +
                "  }\n" +
                "]", Object.class);
        String compactJson = mapper.writeValueAsString(json);
        assertEquals(compactJson, result);
    }

    @Test
    void get_movie_with_id() throws IOException {
        String id = "81d317b0-29e5-4846-97a6-43c07f3edf4a";
        Movie movie = movieAPI.GetMovie(id);

        //assertTrue(movie.getId().Equals(id));
    }
}
